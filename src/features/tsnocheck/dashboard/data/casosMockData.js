// Mock data para casos basado en el extracto CSV proporcionado
export const casosMockData = [
  {
    ID: "0004c854-6d2b-4cc3-83ea-f5dfafc8a4a0",
    local_sync_id: null,
    usuario_ID: 2,
    usuario_ID_assigned: 2,
    usuario_name: "Miguel Rodríguez",
    usuario_assigned_name: "Miguel Rodríguez",
    comunicacion_ID: 1,
    comunicacion_name: "Telefónica",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2025-03-30",
    start: "2025-03-30 18:37:19",
    date_end: "2025-03-30 18:39:17",
    description: null,
    prioridad: 3,
    prioridad_name: "Baja",
    uuid: null,
    equipos: `{"360":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"3","especialista_ID":0,"necesitaEspecialista":0,"description":"Desconfiguración de Pro700+","visita_ID":0,"prioridad":"3","herramientas":{"No aplica":{"equipo_ID":0,"check":"1"}},"sistemas":{"SISTEMA ELÉCTRICO":{"sistema_ID":9,"servicio_tipo_ID":"3","sistema_marca_ID":"","check":"1"},"EFICIENCIA":{"sistema_ID":6,"servicio_tipo_ID":"","sistema_marca_ID":"","check":"1"}},"isEqualPreDiagnostico":false},"diagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":0,"especialista_ID":0,"necesitaEspecialista":0,"description":"","visita_ID":0,"prioridad":0,"herramientas":{},"sistemas":{},"isEqualPreDiagnostico":false}}}`,
    created_at: "2025-03-31 00:37:20",
    updated_at: "2025-03-31 21:20:08",
    equipos_count: 1,
    duracion_horas: "0:02"
  },
  {
    ID: "0068efd1-29a1-42c1-bb21-d33c540d7ca3",
    local_sync_id: null,
    usuario_ID: 7,
    usuario_ID_assigned: 7,
    usuario_name: "Carlos Mendoza",
    usuario_assigned_name: "Carlos Mendoza",
    comunicacion_ID: 1,
    comunicacion_name: "Telefónica",
    segmento_ID: 3,
    segmento_name: "Construcción",
    caso_estado_ID: 6,
    caso_estado_name: "En Proceso",
    fecha: "2025-02-28",
    start: "2025-02-28 09:58:36",
    date_end: null,
    description: null,
    prioridad: 3,
    prioridad_name: "Baja",
    uuid: null,
    equipos: `{"AUTO TURN":{"sistema_ID":1,"servicio_tipo_ID":"2","sistema_marca_ID":"","check":"1"}}`,
    created_at: "2025-02-28 15:58:36",
    updated_at: "2025-02-28 16:50:21",
    equipos_count: 1,
    duracion_horas: "En proceso"
  },
  {
    ID: "00895369-bc9f-48e0-b2db-2d550c9a2ab9",
    local_sync_id: null,
    usuario_ID: 4,
    usuario_ID_assigned: 4,
    usuario_name: "Ana García",
    usuario_assigned_name: "Ana García",
    comunicacion_ID: 2,
    comunicacion_name: "WhatsApp",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2025-04-24",
    start: "2025-04-24 07:48:06",
    date_end: "2025-06-10 14:03:20",
    description: null,
    prioridad: 3,
    prioridad_name: "Baja",
    uuid: null,
    equipos: `{"146":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"1","especialista_ID":"4","necesitaEspecialista":"1","description":"Evaluación al programa de Desarrollo.","visita_ID":0,"prioridad":"3","herramientas":{"No aplica":{"equipo_ID":0,"check":"1"}},"sistemas":{"PROGRAMA DE DESARROLLO":{"sistema_ID":18,"servicio_tipo_ID":"9","sistema_marca_ID":"","check":"1"}},"isEqualPreDiagnostico":true}}}`,
    created_at: "2025-04-24 13:48:06",
    updated_at: "2025-06-10 20:03:21",
    equipos_count: 5,
    duracion_horas: "1126:15"
  },
  {
    ID: "01db7775-f5a8-47e9-bd56-ada6d77fd2ee",
    local_sync_id: null,
    usuario_ID: 2,
    usuario_ID_assigned: 2,
    usuario_name: "Miguel Rodríguez",
    usuario_assigned_name: "Miguel Rodríguez",
    comunicacion_ID: 6,
    comunicacion_name: "Email",
    segmento_ID: 3,
    segmento_name: "Construcción",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2025-07-16",
    start: "2025-07-16 14:36:25",
    date_end: "2025-07-16 14:39:12",
    description: null,
    prioridad: 3,
    prioridad_name: "Baja",
    uuid: null,
    equipos: `{}`,
    created_at: "2025-07-16 20:36:26",
    updated_at: "2025-07-28 21:21:24",
    equipos_count: 0,
    duracion_horas: "0:03"
  },
  {
    ID: "0305a912-cf9f-4998-9960-bb158ad84437",
    local_sync_id: null,
    usuario_ID: 2,
    usuario_ID_assigned: 2,
    usuario_name: "Miguel Rodríguez",
    usuario_assigned_name: "Miguel Rodríguez",
    comunicacion_ID: 2,
    comunicacion_name: "WhatsApp",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2025-03-03",
    start: "2025-03-03 17:49:48",
    date_end: "2025-03-03 17:50:41",
    description: null,
    prioridad: 2,
    prioridad_name: "Media",
    uuid: null,
    equipos: `{"323":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"1","especialista_ID":0,"necesitaEspecialista":0,"description":"Revisión de cables y arnés para uso de piloto automático.","visita_ID":0,"prioridad":"2","herramientas":{"No aplica":{"equipo_ID":0,"check":"1"}},"sistemas":{"PILOTO AUTOMÁTICO":{"sistema_ID":12,"servicio_tipo_ID":"3","sistema_marca_ID":"2","check":"1"},"SEÑAL DE CORRECCIÓN":{"sistema_ID":4,"servicio_tipo_ID":"8","sistema_marca_ID":"","check":"1"},"SISTEMA ELÉCTRICO":{"sistema_ID":9,"servicio_tipo_ID":"3","sistema_marca_ID":"","check":"1"}},"isEqualPreDiagnostico":true}}}`,
    created_at: "2025-03-03 23:49:49",
    updated_at: "2025-03-03 23:50:44",
    equipos_count: 2,
    duracion_horas: "0:01"
  },
  {
    ID: "05094efe-2ce6-4fa7-b8cc-564a9bbcdd53",
    local_sync_id: null,
    usuario_ID: 1,
    usuario_ID_assigned: 1,
    usuario_name: "Juan Pérez",
    usuario_assigned_name: "Juan Pérez",
    comunicacion_ID: 1,
    comunicacion_name: "Telefónica",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2025-01-16",
    start: "2025-01-16 15:01:26",
    date_end: "2025-01-22 08:49:51",
    description: null,
    prioridad: 1,
    prioridad_name: "Alta",
    uuid: null,
    equipos: `{"405":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"3","especialista_ID":0,"necesitaEspecialista":0,"description":"EQUIPO NO RECEPCIONA SEÑAL, NO SE PUEDE OPERAR EQUIPO SIN CMR 0%","visita_ID":0,"prioridad":"1","herramientas":{"No aplica":{"equipo_ID":0,"check":"1"}},"sistemas":{"PILOTO AUTOMÁTICO":{"sistema_ID":12,"servicio_tipo_ID":"","sistema_marca_ID":"","check":"0"},"SEÑAL DE CORRECCIÓN":{"sistema_ID":4,"servicio_tipo_ID":"7","sistema_marca_ID":"","check":"1"}},"isEqualPreDiagnostico":true}}}`,
    created_at: "2025-01-16 21:01:26",
    updated_at: "2025-01-22 14:49:51",
    equipos_count: 1,
    duracion_horas: "137:48"
  },
  {
    ID: "103b72e5-b1d5-4254-abd0-4c062a3ec989",
    local_sync_id: null,
    usuario_ID: 4,
    usuario_ID_assigned: 4,
    usuario_name: "Ana García",
    usuario_assigned_name: "Ana García",
    comunicacion_ID: 1,
    comunicacion_name: "Telefónica",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2025-01-15",
    start: "2025-01-15 15:53:11",
    date_end: "2025-01-15 15:54:11",
    description: null,
    prioridad: 3,
    prioridad_name: "Baja",
    uuid: null,
    equipos: `{"200":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"3","especialista_ID":"4","necesitaEspecialista":"1","description":"No conecta a señal de corrección RTK.","visita_ID":0,"prioridad":"3","herramientas":{"No aplica":{"equipo_ID":0,"check":"1"}},"sistemas":{"PILOTO AUTOMÁTICO":{"sistema_ID":12,"servicio_tipo_ID":"8","sistema_marca_ID":"2","check":"1"}},"isEqualPreDiagnostico":false}}}`,
    created_at: "2025-01-15 21:53:11",
    updated_at: "2025-01-15 21:54:11",
    equipos_count: 1,
    duracion_horas: "0:01"
  },
  {
    ID: "1e222db5-2738-44d1-8081-1aef989f27cb",
    local_sync_id: null,
    usuario_ID: 2,
    usuario_ID_assigned: 2,
    usuario_name: "Miguel Rodríguez",
    usuario_assigned_name: "Miguel Rodríguez",
    comunicacion_ID: 1,
    comunicacion_name: "Telefónica",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 5,
    caso_estado_name: "Terminado",
    fecha: "2024-12-20",
    start: "2024-12-20 06:52:06",
    date_end: "2024-12-20 06:53:48",
    description: null,
    prioridad: 2,
    prioridad_name: "Media",
    uuid: null,
    equipos: `{"338":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"1","especialista_ID":0,"necesitaEspecialista":0,"description":"No conecta el piloto automático","visita_ID":0,"prioridad":"2","herramientas":{"No aplica":{"equipo_ID":0,"check":"1"}},"sistemas":{"PILOTO AUTOMÁTICO":{"sistema_ID":12,"servicio_tipo_ID":"","sistema_marca_ID":"2","check":"1"}},"isEqualPreDiagnostico":false}}}`,
    created_at: "2024-12-20 12:52:07",
    updated_at: "2024-12-20 12:53:48",
    equipos_count: 1,
    duracion_horas: "0:02"
  },
  {
    ID: "2147cc34-9eab-4f41-bf82-6033a61156bf",
    local_sync_id: null,
    usuario_ID: 6,
    usuario_ID_assigned: 6,
    usuario_name: "Billy Guillen",
    usuario_assigned_name: "Billy Guillen",
    comunicacion_ID: 1,
    comunicacion_name: "Telefónica",
    segmento_ID: 1,
    segmento_name: "Agricultura",
    caso_estado_ID: 1,
    caso_estado_name: "Creado",
    fecha: "2025-05-29",
    start: "2025-05-29 10:31:26",
    date_end: null,
    description: null,
    prioridad: 2,
    prioridad_name: "Media",
    uuid: null,
    equipos: `{"141":{"prediagnostico":{"equipo_ID":0,"caso_ID":0,"diagnostico_tipo_ID":0,"asistencia_tipo_ID":"1","especialista_ID":0,"necesitaEspecialista":"0","description":"Anmsndmms","visita_ID":0,"prioridad":"2","herramientas":{"Cable de actualización":{"equipo_ID":0,"check":"1"}},"sistemas":{"AUTO TURN":{"sistema_ID":1,"servicio_tipo_ID":"4","sistema_marca_ID":"","check":"1"}},"isEqualPreDiagnostico":false}}}`,
    created_at: "2025-05-29 16:32:19",
    updated_at: null,
    equipos_count: 1,
    duracion_horas: "En proceso"
  }
];

// Estados de los casos
export const casoEstados = [
  { id: 1, name: "Creado", color: "blue", icon: "plus" },
  { id: 2, name: "Asignado", color: "orange", icon: "user" },
  { id: 3, name: "En Proceso", color: "yellow", icon: "clock" },
  { id: 4, name: "Pausado", color: "gray", icon: "pause" },
  { id: 5, name: "Terminado", color: "green", icon: "check" },
  { id: 6, name: "Cancelado", color: "red", icon: "x" }
];

// Prioridades
export const prioridades = [
  { id: 1, name: "Alta", color: "red", icon: "warning" },
  { id: 2, name: "Media", color: "orange", icon: "alert" },
  { id: 3, name: "Baja", color: "green", icon: "info" }
];

// Segmentos
export const segmentos = [
  { id: 1, name: "Agricultura", color: "green", icon: "plant" },
  { id: 2, name: "Ganadería", color: "brown", icon: "cow" },
  { id: 3, name: "Construcción", color: "gray", icon: "hammer" }
];

// Tipos de comunicación
export const tiposComunicacion = [
  { id: 1, name: "Telefónica", color: "blue", icon: "phone" },
  { id: 2, name: "WhatsApp", color: "green", icon: "message" },
  { id: 3, name: "Presencial", color: "purple", icon: "users" },
  { id: 4, name: "Radio", color: "orange", icon: "radio" },
  { id: 5, name: "Teams", color: "blue", icon: "video" },
  { id: 6, name: "Email", color: "red", icon: "mail" },
  { id: 7, name: "Capacitación", color: "teal", icon: "book" }
];

// Funciones de utilidad
export const getPrioridadInfo = (prioridadId) => {
  return prioridades.find(p => p.id === prioridadId) || prioridades[2];
};

export const getEstadoInfo = (estadoId) => {
  return casoEstados.find(e => e.id === estadoId) || casoEstados[0];
};

export const getSegmentoInfo = (segmentoId) => {
  return segmentos.find(s => s.id === segmentoId) || segmentos[0];
};

export const getComunicacionInfo = (comunicacionId) => {
  return tiposComunicacion.find(c => c.id === comunicacionId) || tiposComunicacion[0];
};

export const formatDuration = (start, end) => {
  if (!end) return "En proceso";
  
  const startDate = new Date(start);
  const endDate = new Date(end);
  const diffMs = endDate.getTime() - startDate.getTime();
  
  const hours = Math.floor(diffMs / (1000 * 60 * 60));
  const minutes = Math.floor((diffMs % (1000 * 60 * 60)) / (1000 * 60));
  
  return `${hours}:${minutes.toString().padStart(2, '0')}`;
};

export const getEquiposCount = (equiposString) => {
  if (!equiposString || equiposString === '{}') return 0;
  
  try {
    const equipos = JSON.parse(equiposString);
    return Object.keys(equipos).length;
  } catch {
    return 0;
  }
};

export const formatFecha = (fecha) => {
  const date = new Date(fecha);
  return date.toLocaleDateString('es-ES', {
    year: 'numeric',
    month: 'long',
    day: 'numeric'
  });
};

export const getShortCaseId = (id, userId) => {
  const shortId = id.split('-')[0];
  return `${userId}-${shortId}`;
};
